<!-- views/components/results.ejs -->
<div class="container mx-auto p-6 bg-white rounded-lg shadow-lg mt-10">
    <h1 class="text-3xl font-bold text-center text-teal-700 mb-4">Battery Analysis Results</h1>

    <!-- Display Results -->
    <p><strong>Vehicle Make and Model:</strong> <%= makeModel %></p>
    <p><strong>Battery Health:</strong> <%= batteryHealth %> %</p>
    <p><strong>Recommendations:</strong> <%= recommendations %></p>

    <!-- Chart Display -->
    <canvas id="batteryChart" width="400" height="200"></canvas>

    <!-- Chart.js Script -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        const ctx = document.getElementById('batteryChart').getContext('2d');
        new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['Charge Cycles', 'Battery Age', 'Temperature Impact'],
                datasets: [{
                    label: 'Impact on Battery Health',
                    data: [<%= chargeCycles %>, <%= batteryAge %>, <%= batteryTemp > 40 ? 10 : 0 %>],
                    backgroundColor: ['#4caf50', '#ff9800', '#f44336']
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });
    </script>
</div>
